!function(a){"use strict";var b=function(a){for(;a>=360;)a-=360;for(;a<0;)a+=360;return a},c=function(a){return a*Math.PI/180};a.JulianDate=function(a){a=a||{};var c=a.day||1,d=a.month||1,e=a.year||0,f=a.hour||0,g=a.minute||0,h=a.second||0,i=function(a,b,c){var d=c,e=b,f=a,g=1e4*d+100*e+f;e<=2&&(d-=1,e+=12);var h=Math.floor(d/100),i=g<1582104.1?0:2-h+Math.floor(h/4);return Math.floor(365.25*(d+4716)+Math.floor(30.60001*(e+1))+f+i-1524.5)};this.asString=function(){var a=Math.floor(self.__JulianDay+.5),b=Math.floor((a-1867216.25)/36524.25),c=a+1+b-Math.floor(b/4);a<2299161&&(c=a);var d=c+1524,e=Math.floor((d-122.1)/365.25),f=Math.floor(365.25*e),g=Math.floor((d-f)/30.6001),h=d-f-Math.floor(30.6001*g),i=g<14?g-1:g-13,k=i>2?e-4716:e-4715,l=j+.50000001;Math.floor(l),Hour,Math.floor(Hour),Minute,Math.floor(Minute);return Math.floor(1e3*Second)/1e3,h+"."+i+"."+k+" "+Hour+":"+Minute+":"+Second},this.getStarTime=function(a){var c=(j-2451545)/36525,d=c*c,e=d*c,f=100.460618375+36000.77005360833*c+.0003879333*d-e/3871e4;return(f=b(f))+(void 0===a?0:a)},this.getJulianDay=function(){return j};var j=i(c,d,e);j+=f/24+g/1440+h/86400},a.Orbiter=function(a){a=a||{};var d=a.dailyMotion||1,e=a.meanLongitude||262.4278,f=a.lonPerihelion||336.0882,g=a.eccentricity||.0934231,h=a.semiMajor||1.5236365,i=a.lonAscNode||49.5664,j=a.inclination||1.84992;a.arcToEcliptic;this.getPositionAtTime=function(a){var k=d*a+e-f;k=b(k);for(var l,m=c(k),n=k+180/Math.PI*g*Math.sin(m)*(1+g*Math.cos(m)),o=0;o<1;o++)l=c(n),n-=(n-180/Math.PI*g*Math.sin(l)-k)/(1-g*Math.cos(l));n=b(n),l=c(n);var p=1e3*h*(1-g*g)/(1+g*Math.cos(l)),q=c(f),r=c(i),s=c(j);return[p*(Math.cos(r)*Math.cos(l+q-r)-Math.sin(r)*Math.sin(l+q-r)*Math.cos(s)),p*(Math.sin(r)*Math.cos(l+q-r)+Math.cos(r)*Math.sin(l+q-r)*Math.cos(s)),p*(Math.sin(l+q-r)*Math.sin(s))]}},a.EquinoxTime=new a.JulianDate(20,3,2010,17,32,0)}("undefined"==typeof exports?this.kepler={}:exports);